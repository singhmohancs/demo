(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},114:function(e,t,a){},125:function(e,t,a){},129:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),s=a.n(r),i=(a(57),a(59),a(8)),o=a(9),c=a(12),u=a(10),m=a(13),d=(a(61),a(15)),h=a(149),f=a(143),p=a(144),g=a(145),E=(a(63),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("header",{className:"header-top"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("a",{href:"logo",className:"logo-img text-white"},"Gaphify")),l.a.createElement("div",{className:"col-md-8 d-flex align-items-center justify-content-end"},l.a.createElement("ul",{className:"top no-style-list d-flex mb-0 "},l.a.createElement("li",null,l.a.createElement("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"documentation  text-white text-uppercase font-weight-bold"},l.a.createElement("i",{className:"custom-color fa fa-clone mr-2","aria-hidden":"true"}),"Documentation")),l.a.createElement("li",null,l.a.createElement("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:"Setting text-white text-uppercase"},l.a.createElement("i",{className:"mr-2 custom-color fa fa-cog","aria-hidden":"true"}),"Settings")),l.a.createElement("li",{className:"border-icon"},l.a.createElement("a",{href:"#",target:"_blank",rel:"noopener noreferrer",className:" text-white text-uppercase font-weight-bold"},l.a.createElement("i",{className:"icon-bell fa fa-bell","aria-hidden":"true"}))),l.a.createElement(h.a,{nav:!0,inNavbar:!0},l.a.createElement(f.a,{nav:!0,caret:!0},"option"),l.a.createElement(p.a,{right:!0},l.a.createElement(g.a,null,"Account"),l.a.createElement(g.a,null,"Logout")))))))),l.a.createElement("header",{className:"header-inner"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 p-0"},l.a.createElement("ul",{className:"navigation d-inline-flex align-items-center no-style-list m-0 p-0"},l.a.createElement("li",{className:"workplace text-uppercase"},"All Workspaces"),l.a.createElement("li",{className:"ml-5  mt-2 "},l.a.createElement("a",{className:"selected active  text-uppercase font-weight-bold",href:"#","aria-current":"page"},"Pivot")),l.a.createElement("li",{className:"ml-5 "},l.a.createElement("a",{className:"text-uppercase  text-white ",href:"#","aria-current":"page"},"Data Resources")),l.a.createElement("li",{className:"ml-5 "},l.a.createElement("a",{className:"text-uppercase  text-white ",href:"#","aria-current":"page"},"Materilized View")),l.a.createElement("li",{className:"ml-5 "},l.a.createElement("a",{className:"text-uppercase  text-white ",href:"#","aria-current":"page"},"Outputs")),l.a.createElement("li",{className:"ml-5 "},l.a.createElement("a",{className:"text-uppercase  text-white ",href:"#","aria-current":"page"},"Clusters"))))))))}}]),t}(l.a.Component)),v=(a(68),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.state={isOpen:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"datasource"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,l.a.createElement("span",null,"Twitter Datasoure")),l.a.createElement("p",null," ",l.a.createElement("a",{href:"#",target:"_blank",rel:"noopener noreferrer"},"Learn more about Data Source Discovery."))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("ul",{className:"definition-list no-style-list d-flex align-items-center justify-content-end"},l.a.createElement("li",null,l.a.createElement("strong",null,l.a.createElement("span",null,"Cluster")),l.a.createElement("span",{className:"limited"},"Running")),l.a.createElement("li",null,l.a.createElement("strong",null,"Total Events"),l.a.createElement("span",null,"70")),l.a.createElement("li",null,l.a.createElement("strong",null,"Parse Errors"),l.a.createElement("span",null,"0")),l.a.createElement(h.a,{inNavbar:!0},l.a.createElement(f.a,{nav:!0,caret:!0},"Add output"),l.a.createElement(p.a,{right:!0},l.a.createElement(g.a,null,"Add Dashboard"),l.a.createElement(g.a,null,"Add Materialized View"),l.a.createElement(g.a,null,"Archive Data Source")))))))),l.a.createElement("hr",null),l.a.createElement("ul",{className:"tabs-react no-style-list mb-3 p-0"},l.a.createElement("li",null,l.a.createElement("a",null,"Schema")),l.a.createElement("li",null,l.a.createElement("a",null,"Samples")),l.a.createElement("li",null,l.a.createElement("a",null,"Parse Errors")),l.a.createElement("li",null,l.a.createElement("a",null,"Properties")),l.a.createElement("li",null,l.a.createElement("a",null,"Used By (0)"))))}}]),t}(l.a.Component)),b=a(24),O=a.n(b),j=a(67),y=a(148),w=a(146),N=a(147),k=(a(73),a(75),a(77),a(79),a(81),a(83),a(85),a(16)),C=a(39),x=a.n(C),F=(a(112),a(40)),D=a(25),T=(a(114),[{value:"count",label:"Count"},{value:"sum",label:"Sum"},{value:"avarage",label:"Avarage"},{value:"min",label:"Min"},{value:"max",label:"Max"}]),S={marginBottom:"8px",display:"block",fontWeight:"500"},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={dimenssion:null,aggregation:null,measure:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e,t){var a=this;this.setState(Object(F.a)({},t,e)),setTimeout(function(){a.props.onFilterChange(a.state)},0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.dimenssion,r=t.aggregation,s=t.measure,i=this.props,o=i.dimenssions,c=i.measures;return l.a.createElement(n.Fragment,{key:"graphify-filter"},l.a.createElement("div",{className:"control-item",style:{margin:"20px 0"}},l.a.createElement("label",{style:S},"Dimension"),l.a.createElement(D.a,{name:"dimenssion",value:a,isSearchable:!0,onChange:function(t){return e.handleChange(t,"dimenssion")},options:o})),l.a.createElement("div",{className:"control-item",style:{margin:"20px 0"}},l.a.createElement("label",{style:S},"Aggregation"),l.a.createElement(D.a,{name:"aggregation",value:r,onChange:function(t){return e.handleChange(t,"aggregation")},options:T})),l.a.createElement("div",{className:"control-item",style:{margin:"20px 0"}},l.a.createElement("label",{style:S},"Measure"),l.a.createElement(D.a,{name:"measure",value:s,onChange:function(t){return e.handleChange(t,"measure")},options:c})))}}]),t}(l.a.Component),A=(a(125),a(44)),R=a.n(A),_=(a(127),function(e,t){console.log("onChange::",e,t)}),I=function(e){var t=e.action,a=e.node;console.log("onAction:: [".concat(t,"]"),a)},M=function(e){console.log("onNodeToggle::",e)},P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isTreeReady:!1},a.treeData={label:"Filter data",value:"Filter data",children:[]},a.prepareTreeData(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"prepareTreeData",value:function(){var e=this,t=this.props,a=t.fields,n=t.data;Object(k.forEach)(a,function(t){var a=Object(k.map)(n,function(e){return e[t.value]}),l=Object(k.uniq)(a);e.treeData.children.push({label:t.value,value:t.value,children:Object(k.map)(l,function(e){return{label:e,value:e,parent_key:t.value}})})}),setTimeout(function(){e.setState({isTreeReady:!0})},200)}},{key:"render",value:function(){return l.a.createElement(n.Fragment,{key:"data-filter"},this.treeData.children.length>0&&this.state.isTreeReady&&l.a.createElement(R.a,{data:this.treeData,onChange:_,onAction:I,onNodeToggle:M}))}}]),t}(l.a.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleJsonChange=function(e){a.setState({json:e})},a.onFilterChange=function(e){a.setState({measure:Object(k.get)(e,"measure.value",""),dimenssion:Object(k.get)(e,"dimenssion.value","")}),e.measure&&e.dimenssion&&(a.setLoader(!0),setTimeout(function(){a.prepareData()},0)),console.log("filters",e)},a.onFieldChange=function(e){var t=e.map(function(e){return e.name}),n=a.state.data.map(function(e){return Object(k.pick)(e,t)});console.log(n)},a.setLoader=function(e){a.setState({isLoader:e})},a.handleJsonChange=a.handleJsonChange.bind(Object(d.a)(Object(d.a)(a))),a.toggle=a.toggle.bind(Object(d.a)(Object(d.a)(a))),a.state={json:null,plotUrl:"",dimenssions:[],measures:[],measure:"",dimenssion:"",isLoader:!1,data:[],fields:[],dataToGraph:[],isFilterModal:!1},a.loadCsv("./data/twitter-fewvalues.csv"),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{isFilterModal:!e.isFilterModal}})}},{key:"getRandomColor",value:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}},{key:"loadCsv",value:function(e){var t=this;Plotly.d3.csv(e,function(a,n){if(a)console.log("Datasource CS file ".concat(e," has not loaded"),a);else{console.log("csv data ".concat(n));var l=[],r=[],s=n[0];for(var i in s)if(s.hasOwnProperty(i)&&"user_id"!==i&&-1===i.indexOf("color")){var o=s[i];isNaN(parseInt(o))?l.push(i):r.push(i)}var c=Object.keys(s).map(function(e){return{value:e,label:e,name:e,type:isNaN(parseInt(s[e]))?"string":"number"}});l=l.map(function(e){return{label:e,value:e}}),r=r.map(function(e){return{label:e,value:e}}),t.setState({data:n,dimenssions:l,measures:r,fields:c})}})}},{key:"prepareData",value:function(){var e=this,t=[],a=function(e,t){return e.map(function(e){return isNaN(parseInt(e[t]))?0:parseInt(e[t])})},n=Object(k.chain)(this.state.data).groupBy(function(t){return t[e.state.dimenssion]}).toPairs().map(function(t){return Object(k.zipObject)([e.state.dimenssion,"items"],t)}).value();for(var l in n)if(n.hasOwnProperty(l)){var r=n[l],s=a(r.items,this.state.measure);console.log(s);var i={type:"scatter",mode:"lines",name:r[this.state.dimenssion],x:new Date,y:s,line:{color:this.getRandomColor()}};t.push(i)}var o={data:t,layout:{title:"Basic Time Series",xaxis:{rangeselector:{buttons:[{count:15,label:"15min",step:"minute",stepmode:"backward"},{count:30,label:"30min",step:"minute",stepmode:"backward"},{count:45,label:"45min",step:"minute",stepmode:"backward"},{count:1,label:"1h",step:"hour",stepmode:"backward"},{count:1,label:"1d",step:"day",stepmode:"backward"},{count:1,label:"1m",step:"month",stepmode:"backward"},{count:6,label:"6m",step:"month",stepmode:"backward"},{count:1,label:"1y",step:"year",stepmode:"backward"},{step:"all"}]},title:"Time Series",type:"date"}}};this.setState({json:o})}},{key:"render",value:function(){var e=this;return l.a.createElement(n.Fragment,{key:"plotly-graph"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4",style:{maxWidth:"300px"}},l.a.createElement("div",{className:"controls-panel"},l.a.createElement(j.a,{color:"primary",onClick:this.toggle},"Filter Data"),l.a.createElement(L,{dimenssions:this.state.dimenssions,measures:this.state.measures,onFilterChange:this.onFilterChange}))),l.a.createElement("div",{className:"col"},this.state.isLoader&&l.a.createElement("div",{style:{position:"absolute",left:"45%",top:"35%"}},l.a.createElement(x.a,{type:"ThreeDots",color:"#00BFFF",height:"100",width:"100"})),this.state.json&&l.a.createElement(O.a,{data:this.state.json.data,layout:this.state.json.layout,config:{displayModeBar:!0,responsive:!0},style:{width:"100%"},onInitialized:function(){return e.setLoader(!1)}}))),l.a.createElement(y.a,{size:"lg",backdrop:"static",isOpen:this.state.isFilterModal,toggle:this.toggle},l.a.createElement(w.a,{toggle:this.toggle},"Filter Data"),l.a.createElement(N.a,null,l.a.createElement(P,{fields:this.state.fields,data:this.state.data}))))}}]),t}(l.a.Component),W=(a(129),a(45)),z=a.n(W),G=(a(137),a(26)),J=a.n(G),U=a(46),V=a.n(U)()(O.a),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:[]},a.loadCsv("./data/twitter-fewvalues-latest.csv"),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"loadCsv",value:function(e){var t=this;Plotly.d3.csv(e,function(a,n){a?console.log("Datasource CS file ".concat(e," has not loaded"),a):t.setState({data:n})})}},{key:"render",value:function(){var e=this,t=this.state.data;return l.a.createElement("div",{style:{marginTop:"100px"}},l.a.createElement("h1",null,"PivotTable"),t.length>0&&l.a.createElement(z.a,Object.assign({data:t,onChange:function(t){return e.setState(t)},renderers:Object.assign({},J.a,V)},this.state)))}}]),t}(l.a.Component),q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(n.Fragment,{key:"app"},l.a.createElement(E,null),l.a.createElement(v,null),l.a.createElement(B,null),l.a.createElement("div",{style:{marginTop:"50px"}},l.a.createElement(H,null)))}}]),t}(l.a.Component),$=a(50),K=a(22),Q=a(48),X=a(49),Y=Object(X.a)({}),Z=Object(K.c)(Object(K.a)(Q.a))(K.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;switch((arguments.length>1?arguments[1]:void 0).type){case"SELECT_FIELD":case"UNSELECT_FIELD":case"ADD_FILTER":case"REMOVE_FILTER":case"CLEAR_FILTERS":case"CHANGE_FILTER_FIELD":case"CHANGE_FILTER_OPERATOR":case"CHANGE_FILTER_VALUE":default:return e}}),ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function te(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}s.a.render(l.a.createElement($.a,{store:Z},l.a.createElement(q,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/demo",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/demo","/service-worker.js");ee?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):te(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):te(e)})}}()},52:function(e,t,a){e.exports=a(141)},59:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){}},[[52,2,1]]]);
//# sourceMappingURL=main.59bf0496.chunk.js.map